# ðŸ“¦ Google Colab GPUæµ‹è¯•æ–‡ä»¶æ€»ç»“

## âœ… å·²åˆ›å»ºçš„æ–‡ä»¶

| æ–‡ä»¶å | ç±»åž‹ | ç”¨é€” | æŽ¨èåº¦ |
|--------|------|------|--------|
| **colab_gpu_demo.ipynb** | Jupyter Notebook | å®Œæ•´çš„äº¤äº’å¼GPUæµ‹è¯• | â­â­â­â­â­ |
| **colab_quick_test.py** | Pythonè„šæœ¬ | ä¸€é”®å¿«é€ŸGPUæµ‹è¯• | â­â­â­â­â­ |
| **colab_gpu_test.py** | Pythonè„šæœ¬ | æ¨¡å—åŒ–GPUæµ‹è¯•å·¥å…· | â­â­â­â­ |
| **COLAB_GPU_GUIDE.md** | æ–‡æ¡£ | è¯¦ç»†ä½¿ç”¨æŒ‡å— | â­â­â­â­â­ |

---

## ðŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆ3ç§æ–¹å¼ï¼‰

### æ–¹å¼1: Notebookäº¤äº’å¼æµ‹è¯• â­æŽ¨è

**é€‚åˆ**: ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œæƒ³è¦è¯¦ç»†äº†è§£æ¯ä¸ªæ­¥éª¤

```bash
# æ­¥éª¤1: ä¸Šä¼ æ–‡ä»¶
ä¸Šä¼  colab_gpu_demo.ipynb åˆ° Google Colab

# æ­¥éª¤2: å¯ç”¨GPU
è¿è¡Œæ—¶ â†’ æ›´æ”¹è¿è¡Œæ—¶ç±»åž‹ â†’ GPU

# æ­¥éª¤3: è¿è¡Œ
è¿è¡Œæ—¶ â†’ å…¨éƒ¨è¿è¡Œ
```

**ä¼˜åŠ¿**:
- âœ… å¯è§†åŒ–è¾“å‡º
- âœ… åˆ†æ­¥æ‰§è¡Œï¼Œæ˜“äºŽç†è§£
- âœ… æ”¯æŒå®žæ—¶ä¿®æ”¹
- âœ… Markdownè¯´æ˜Žæ¸…æ™°

---

### æ–¹å¼2: å¿«é€Ÿä¸€é”®æµ‹è¯• â­æœ€å¿«

**é€‚åˆ**: å¿«é€ŸéªŒè¯GPUæ€§èƒ½

```python
# åœ¨Colabæ–°å»ºç¬”è®°æœ¬ï¼Œè¿è¡Œä»¥ä¸‹ä»£ç ï¼š

# 1. å¯ç”¨GPU (è¿è¡Œæ—¶ â†’ GPU)

# 2. å¤åˆ¶å¹¶è¿è¡Œ
!wget https://your-repo/colab_quick_test.py
!python colab_quick_test.py

# æˆ–ç›´æŽ¥å¤åˆ¶ä»£ç åˆ°å•å…ƒæ ¼è¿è¡Œ
```

**ä¼˜åŠ¿**:
- âœ… é›¶é…ç½®
- âœ… è‡ªåŠ¨å®‰è£…ä¾èµ–
- âœ… 5åˆ†é’Ÿå®Œæˆå…¨éƒ¨æµ‹è¯•
- âœ… ä¸€æ¬¡æ€§è¾“å‡ºå®Œæ•´æŠ¥å‘Š

---

### æ–¹å¼3: æ¨¡å—åŒ–æµ‹è¯•å·¥å…·

**é€‚åˆ**: å¼€å‘è€…æ·±åº¦å®šåˆ¶

```python
# åœ¨Colabä¸­
!wget https://your-repo/colab_gpu_test.py
!python colab_gpu_test.py
```

**ä¼˜åŠ¿**:
- âœ… ä»£ç ç»“æž„æ¸…æ™°
- âœ… æ˜“äºŽæ‰©å±•
- âœ… å¯é›†æˆåˆ°å…¶ä»–é¡¹ç›®

---

## ðŸ“Š æµ‹è¯•å†…å®¹å¯¹æ¯”

| æµ‹è¯•é¡¹ç›® | Notebook | Quick Test | GPU Test |
|---------|----------|------------|----------|
| GPUçŽ¯å¢ƒæ£€æµ‹ | âœ… | âœ… | âœ… |
| çŸ©é˜µè¿ç®—æµ‹è¯• | âœ… | âœ… | âœ… |
| æ–‡æœ¬åµŒå…¥æµ‹è¯• | âœ… | âœ… | âœ… |
| GraphRAGç»„ä»¶ | âœ… | âŒ | âŒ |
| æ˜¾å­˜ç›‘æŽ§ | âœ… | âœ… | âœ… |
| æ€§èƒ½æŠ¥å‘Š | âœ… | âœ… | âœ… |
| äº¤äº’å¼è¯´æ˜Ž | âœ… | âŒ | âŒ |
| nvidia-smi | âœ… | âœ… | âœ… |

---

## ðŸŽ¯ ä½¿ç”¨åœºæ™¯æŽ¨è

### åœºæ™¯1: é¦–æ¬¡æµ‹è¯•GPU
**æŽ¨è**: `colab_gpu_demo.ipynb`
- è¯¦ç»†çš„è¯´æ˜Žæ–‡æ¡£
- åˆ†æ­¥æ‰§è¡Œï¼Œä¾¿äºŽå­¦ä¹ 
- å¯è§†åŒ–æ•ˆæžœå¥½

### åœºæ™¯2: å¿«é€ŸéªŒè¯æ€§èƒ½
**æŽ¨è**: `colab_quick_test.py`
- ä¸€é”®è¿è¡Œ
- 5åˆ†é’Ÿå¾—åˆ°ç»“æžœ
- å®Œæ•´æ€§èƒ½æŠ¥å‘Š

### åœºæ™¯3: é›†æˆåˆ°CI/CD
**æŽ¨è**: `colab_gpu_test.py`
- æ¨¡å—åŒ–è®¾è®¡
- æ˜“äºŽè‡ªåŠ¨åŒ–
- è¿”å›žæ ‡å‡†åŒ–ç»“æžœ

### åœºæ™¯4: å­¦ä¹ GPUä¼˜åŒ–
**æŽ¨è**: `COLAB_GPU_GUIDE.md` + `colab_gpu_demo.ipynb`
- ç†è®º+å®žè·µ
- è¯¦ç»†çš„æ€§èƒ½åˆ†æž
- ä¼˜åŒ–å»ºè®®

---

## ðŸ“ˆ é¢„æœŸæ€§èƒ½æå‡

### Google Colab T4 GPU (å…è´¹ç‰ˆ)

| ä»»åŠ¡ | CPU | GPU | åŠ é€Ÿæ¯” |
|------|-----|-----|--------|
| çŸ©é˜µè¿ç®— (5000x5000) | 8ç§’ | 0.3ç§’ | **25x** |
| æ–‡æœ¬åµŒå…¥ (1000æ¡) | 35ç§’ | 6ç§’ | **6x** |
| GraphRAGç´¢å¼• (100æ–‡æ¡£) | 15åˆ†é’Ÿ | 4åˆ†é’Ÿ | **3.8x** |

### Google Colab A100 GPU (Proç‰ˆ)

| ä»»åŠ¡ | CPU | GPU | åŠ é€Ÿæ¯” |
|------|-----|-----|--------|
| çŸ©é˜µè¿ç®— | 8ç§’ | 0.2ç§’ | **40x** |
| æ–‡æœ¬åµŒå…¥ | 35ç§’ | 3ç§’ | **12x** |
| GraphRAGç´¢å¼• | 15åˆ†é’Ÿ | 2.5åˆ†é’Ÿ | **6x** |

---

## ðŸ”§ å®Œæ•´GraphRAGéƒ¨ç½²æµç¨‹

### æ­¥éª¤1: GPUæ€§èƒ½æµ‹è¯•
```python
# è¿è¡Œquick testéªŒè¯GPU
!python colab_quick_test.py
```

### æ­¥éª¤2: ä¸Šä¼ é¡¹ç›®æ–‡ä»¶
```python
# æ–¹å¼A: ä»ŽGoogle Drive
from google.colab import drive
drive.mount('/content/drive')
!cp -r /content/drive/MyDrive/adaptive_RAG /content/
%cd /content/adaptive_RAG

# æ–¹å¼B: ä»ŽGitHub
!git clone YOUR_REPO_URL
%cd adaptive_RAG
```

### æ­¥éª¤3: å®‰è£…ä¾èµ–
```python
!pip install -q -r requirements.txt
!pip install -q -r requirements_graphrag.txt
```

### æ­¥éª¤4: é…ç½®APIå¯†é’¥
```python
import os
from getpass import getpass
os.environ['TAVILY_API_KEY'] = getpass('TAVILY_API_KEY: ')
```

### æ­¥éª¤5: è¿è¡ŒGraphRAG
```python
!python main_graphrag.py
```

### æ­¥éª¤6: ä¸‹è½½ç»“æžœ
```python
from google.colab import files
files.download('data/knowledge_graph.json')
```

---

## ðŸ’¡ ä¼˜åŒ–æŠ€å·§

### 1. æ‰¹å¤„ç†å¤§å°
```python
# config.py
GRAPHRAG_BATCH_SIZE = 20  # GPUçŽ¯å¢ƒå¯å¢žå¤§
```

### 2. åµŒå…¥æ¨¡åž‹é€‰æ‹©
```python
# GPUçŽ¯å¢ƒä½¿ç”¨æ›´å¤§æ¨¡åž‹
EMBEDDING_MODEL = "sentence-transformers/all-mpnet-base-v2"
```

### 3. æ··åˆç²¾åº¦è®­ç»ƒ
```python
import torch
torch.set_float32_matmul_precision('medium')
```

### 4. æ•°æ®æŒä¹…åŒ–
```python
# å®šæœŸä¿å­˜åˆ°Drive
import shutil
shutil.copy(
    'data/knowledge_graph.json',
    '/content/drive/MyDrive/backup.json'
)
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### Colabå…è´¹ç‰ˆé™åˆ¶
- â° è¿žç»­ä½¿ç”¨: æœ€å¤š12å°æ—¶
- ðŸ”„ GPUé…é¢: æ¯å‘¨æœ‰é™
- â¸ï¸ é—²ç½®è¶…æ—¶: 90åˆ†é’Ÿ

### å»ºè®®
- ðŸ’¾ å®šæœŸä¿å­˜è¿›åº¦
- â¬‡ï¸ åŠæ—¶ä¸‹è½½ç»“æžœ
- ðŸ”„ ä½¿ç”¨åŽå°ä»»åŠ¡ä¿æŒæ´»è·ƒ

---

## ðŸ“š æ–‡ä»¶ä½¿ç”¨ä¼˜å…ˆçº§

### æ–°æ‰‹ç”¨æˆ·
1. ðŸ“– å…ˆé˜…è¯» `COLAB_GPU_GUIDE.md`
2. ðŸš€ è¿è¡Œ `colab_gpu_demo.ipynb`
3. âœ… éªŒè¯æ€§èƒ½åŽéƒ¨ç½²å®Œæ•´é¡¹ç›®

### é«˜çº§ç”¨æˆ·
1. âš¡ ç›´æŽ¥è¿è¡Œ `colab_quick_test.py`
2. ðŸ“Š æŸ¥çœ‹æ€§èƒ½æŠ¥å‘Š
3. ðŸ”§ æ ¹æ®éœ€æ±‚è°ƒæ•´é…ç½®

### å¼€å‘è€…
1. ðŸ” ç ”ç©¶ `colab_gpu_test.py` æºç 
2. ðŸ› ï¸ æ ¹æ®éœ€æ±‚å®šåˆ¶åŠŸèƒ½
3. ðŸ”„ é›†æˆåˆ°è‡ªåŠ¨åŒ–æµç¨‹

---

## ðŸŽ¯ å…³é”®æ€§èƒ½æŒ‡æ ‡

### å¿…é¡»è¾¾åˆ°çš„åŸºå‡†
- âœ… GPUæ£€æµ‹: CUDAå¯ç”¨
- âœ… çŸ©é˜µåŠ é€Ÿ: >10x
- âœ… åµŒå…¥åŠ é€Ÿ: >5x
- âœ… æ˜¾å­˜ä½¿ç”¨: <80%

### å¦‚æžœä½ŽäºŽåŸºå‡†
1. æ£€æŸ¥GPUç±»åž‹ (åº”è¯¥æ˜¯T4æˆ–A100)
2. é‡å¯è¿è¡Œæ—¶
3. æ£€æŸ¥ä¾èµ–ç‰ˆæœ¬

---

## ðŸ“ž èŽ·å–å¸®åŠ©

### å¸¸è§é—®é¢˜
- æŸ¥çœ‹ `COLAB_GPU_GUIDE.md` çš„FAQéƒ¨åˆ†

### æ€§èƒ½é—®é¢˜
- è¿è¡Œ `colab_quick_test.py` èŽ·å–è¯Šæ–­æŠ¥å‘Š

### æŠ€æœ¯æ”¯æŒ
- æä¾›æµ‹è¯•æŠ¥å‘Šè¾“å‡º
- è¯´æ˜Žå…·ä½“é”™è¯¯ä¿¡æ¯

---

## âœ… æ€»ç»“

| æ–‡ä»¶ | ä½•æ—¶ä½¿ç”¨ |
|------|---------|
| `colab_gpu_demo.ipynb` | é¦–æ¬¡ä½¿ç”¨ã€å­¦ä¹ ã€æ¼”ç¤º |
| `colab_quick_test.py` | å¿«é€ŸéªŒè¯ã€CI/CDã€æ‰¹é‡æµ‹è¯• |
| `colab_gpu_test.py` | æ·±åº¦å®šåˆ¶ã€é›†æˆå¼€å‘ |
| `COLAB_GPU_GUIDE.md` | å‚è€ƒæ–‡æ¡£ã€é—®é¢˜æŽ’æŸ¥ |

**æŽ¨èæµç¨‹**: 
1. é˜…è¯» `COLAB_GPU_GUIDE.md` (5åˆ†é’Ÿ)
2. è¿è¡Œ `colab_quick_test.py` (5åˆ†é’Ÿ)
3. å¦‚æžœæ€§èƒ½ç¬¦åˆé¢„æœŸï¼Œéƒ¨ç½²å®Œæ•´GraphRAGé¡¹ç›®

**é¢„æœŸç»“æžœ**: 
- GPUå¯ç”¨ âœ…
- 3-6å€æ•´ä½“åŠ é€Ÿ âœ…
- èŠ‚çœ10+åˆ†é’Ÿæ—¶é—´ âœ…

---

ðŸš€ **ç«‹å³å¼€å§‹**: ä¸Šä¼ ä»»ä¸€æ–‡ä»¶åˆ° [Google Colab](https://colab.research.google.com/) å¹¶å¯ç”¨GPU!
